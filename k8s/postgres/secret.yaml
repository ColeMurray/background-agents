# PostgreSQL credentials.
# IMPORTANT: Replace all CHANGEME values before deploying.
# In production, use an external secret manager (e.g., Sealed Secrets,
# External Secrets Operator, or SOPS) instead of storing secrets in manifests.
apiVersion: v1
kind: Secret
metadata:
  name: postgres-credentials
  namespace: open-inspect
  labels:
    app.kubernetes.io/name: postgres
    app.kubernetes.io/component: database
    app.kubernetes.io/part-of: open-inspect
type: Opaque
stringData:
  # Superuser credentials used by the PostgreSQL server itself
  POSTGRES_USER: "postgres"
  POSTGRES_PASSWORD: "CHANGEME"
  POSTGRES_DB: "postgres"

  # Connection string for Rivet Engine (uses the 'rivet' database)
  RIVET_DATABASE_URL: "postgres://postgres:CHANGEME@postgres:5432/rivet"

  # Connection string for the control plane (uses the 'open_inspect' database)
  CONTROL_PLANE_DATABASE_URL: "postgres://postgres:CHANGEME@postgres:5432/open_inspect"
